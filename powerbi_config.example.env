# Power BI Publishing Configuration
# Copy this file to .env or set these as system environment variables

# ============================================================================
# Azure AD Service Principal Credentials
# ============================================================================
# Required for automated/headless publishing
# Create at: https://portal.azure.com -> Azure Active Directory -> App registrations

PBI_CLIENT_ID=your-app-client-id-here
PBI_CLIENT_SECRET=your-app-client-secret-here
PBI_TENANT_ID=your-azure-tenant-id-here

# ============================================================================
# Publishing Settings (Optional - can be passed as parameters)
# ============================================================================

# Default workspace name
PBI_WORKSPACE_NAME=My Workspace

# Default PBIX file path
PBI_REPORT_PATH=/path/to/your/report.pbix

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================

# 1. Create Azure AD App Registration:
#    - Go to https://portal.azure.com
#    - Navigate to Azure Active Directory > App registrations > New registration
#    - Name: "Power BI Publisher"
#    - Supported account types: Accounts in this organizational directory only
#    - Click Register

# 2. Create Client Secret:
#    - In your app, go to Certificates & secrets
#    - New client secret
#    - Copy the VALUE (not the Secret ID) to PBI_CLIENT_SECRET above

# 3. Grant Power BI API Permissions:
#    - In your app, go to API permissions
#    - Add permission > Power BI Service
#    - Delegated permissions: Dataset.ReadWrite.All, Workspace.ReadWrite.All
#    - Application permissions: Dataset.ReadWrite.All, Workspace.ReadWrite.All
#    - Grant admin consent

# 4. Add Service Principal to Power BI Workspace:
#    - Go to https://app.powerbi.com
#    - Navigate to your workspace
#    - Click Access > Add people or groups
#    - Search for your app name
#    - Assign Admin or Member role
#    - Click Add

# 5. Enable Service Principal in Power BI Admin Portal (if required):
#    - Go to https://app.powerbi.com/admin-portal/tenantSettings
#    - Enable "Allow service principals to use Power BI APIs"
#    - Apply to your security group or entire organization

# ============================================================================
# USAGE EXAMPLES
# ============================================================================

# PowerShell (Windows):
# .\Publish-PowerBIReport.ps1 -PbixPath "C:\Reports\Sales.pbix" -WorkspaceName "Production" -UseServicePrincipal

# Python (Cross-platform):
# python publish_powerbi_report.py --file "/path/to/report.pbix" --workspace "Production"

